# 블로그 글 자동 생성기 v2.0

네이버 검색 API와 GEMINI API를 활용하여 키워드 기반으로 블로그 글을 자동 생성하고, 티스토리에 직접 발행까지 가능한 통합 프로그램입니다.

## 주요 기능

### 📝 제목 생성
1. **네이버 블로그 검색**: 특정 키워드로 상위 20개 블로그 글 수집
2. **AI 제목 생성**: 수집된 글을 분석하여 SEO 최적화된 제목 생성
3. **제목 관리**: 생성된 제목 편집/삭제 기능

### ✍️ 글 생성
4. **AI 글 작성**: 선택된 제목으로 완성된 블로그 글 생성
5. **일괄 생성**: 여러 제목을 선택하여 한 번에 글 생성
6. **자동 저장**: 생성된 글을 지정된 경로에 자동 저장

### 🚀 블로그 발행 (NEW!)
7. **티스토리 로그인**: Selenium을 통한 자동 로그인
8. **자동 발행**: 생성된 글을 티스토리에 직접 발행
9. **일괄 발행**: 여러 글을 한 번에 발행
10. **카테고리 설정**: 발행 시 카테고리 자동 선택

## 필요한 API 키

### 1. 네이버 개발자센터 API
[네이버 개발자센터](https://developers.naver.com/main/) 접속 후 어플리케이션 등록 후 Client ID, Client Secret 을 발급받습니다. <br>
하단 사진에 설정 화면을 첨부하였습니다. <br>

![네이버 개발자센터 화면](./img/naver.png)

### 2. GEMINI

[Google AI Studio](https://aistudio.google.com/) 접속 후 API KEY 를 생성합니다. <br>
GEMINI API 사용은 유료 서비스입니다. 하지만 무료 티어 사용량을 보고 적당히 사용하면 과금이 될 일은 없습니다.<br>
무료로도 하루에 필요한 블로그 글 생성하는데는 문제가 없고 현재 유료도 100만 토큰당 0.3 달러 입니다. <br>
1토큰이 대략 한글 한글자(정확히 일치하진 않습니다) 라고 생각하면 되는데 많이 쓴다고 해도 단순 텍스트 생성에 과금이 많지 않습니다. <br>

![Google AI Studio](./img/gemini.png)

## 설치 및 실행

### 필요한 패키지 설치

```bash
pip install -r requirements.txt
```

### Chrome 브라우저 설치

티스토리 발행 기능을 사용하려면 Chrome 브라우저가 필요합니다:

> **개발 모드 전용 기능**: 개발 모드에서는 Chrome 프로필을 사용하여 로그인 정보가 저장됩니다. 이를 통해 매번 로그인할 필요 없이 자동으로 로그인 상태를 유지할 수 있습니다. 이 기능은 배포 버전에서는 제외됩니다.

1. [Chrome 다운로드](https://www.google.com/chrome/) 에서 Chrome 설치
2. Chrome이 없으면 기본 브라우저로 자동 전환됩니다

### 실행

```bash
python blog_generator.py
```

## 사용 방법

### 1단계: API 설정

**방법 1: .env 파일 사용**
코드를 직접 보고 수정할 수 있는 경우 사용합니다. 최 상단 경로에 .env 파일을 만들고 아래 내용에 키 값을 추가하면 됩니다.

```bash
# .env 파일 생성
NAVER_CLIENT_ID=your_naver_client_id_here
NAVER_CLIENT_SECRET=your_naver_client_secret_here
GEMINI_API_KEY=your_gemini_api_key_here
DEFAULT_SAVE_PATH=./generated_posts
```

**방법 2: GUI에서 직접 입력**
- 네이버 Client ID, Client Secret 입력
- Gemini API Key 입력

### 📝 제목 생성 탭

**2단계: 키워드 검색**
- 키워드 입력 후 검색 버튼 클릭
- 검색된 블로그 글 리스트 확인

**3단계: 제목 생성**
- 생성할 제목 개수 설정 (1~20개)
- "제목 생성" 버튼 클릭
- 생성된 제목 확인 및 편집/삭제 가능

### ✍️ 글 생성 탭

**4단계: 제목 동기화**
- "제목 목록 새로고침" 클릭하여 제목 가져오기

**5단계: 글 생성**
- 저장 경로 설정 (txt 파일 저장 위치)
- 프롬프트 수정 (필요시)
- 원하는 제목 선택 (전체 선택 또는 개별 선택)
- "선택된 제목들로 일괄 글 생성" 클릭

### 🚀 블로그 발행 탭 (NEW!)

**6단계: 티스토리 로그인**
- "티스토리 로그인" 버튼 클릭
- 브라우저에서 직접 로그인 (2차 인증 등 지원)
- "로그인 상태 확인" 버튼으로 로그인 확인

**7단계: 발행 설정**
- 발행할 글 폴더 선택
- 파일 목록 새로고침
- 블로그 URL 및 카테고리 설정 (선택사항)

**8단계: 일괄 발행**
- 발행할 파일 선택
- "선택된 파일들 일괄 발행" 클릭
- 발행 로그 확인

## 파일 구조

```
blog-generator/
├── blog_generator.py           # 메인 프로그램
├── utils.py                    # 공통 유틸리티 함수
├── workers.py                  # 백그라운드 작업 클래스들
├── tistory_manager.py          # 티스토리 관리 클래스
├── tabs/                       # 탭별 UI 모듈
│   ├── __init__.py
│   ├── title_generation_tab.py # 제목 생성 탭
│   ├── content_generation_tab.py # 글 생성 탭
│   └── blog_publish_tab.py     # 블로그 발행 탭
├── requirements.txt            # 필요한 패키지 목록
├── BlogGenerator.spec          # PyInstaller 설정 파일
├── build.bat                   # 자동 빌드 스크립트
├── build_safe.bat              # 안전 모드 빌드 스크립트
├── README.md                   # 사용법 설명
└── .env                        # API 키 설정 파일 (선택사항)
```

## 새로운 기능 (v2.0)

### 🔧 리팩토링
- 기능별로 모듈 분리하여 유지보수성 향상
- 탭별 UI 분리로 코드 가독성 개선

### 🚀 티스토리 자동 발행
- Selenium을 통한 실제 브라우저 제어
- 2차 인증 등 복잡한 로그인 과정 지원
- 사용자가 직접 로그인 후 자동 발행
- 카테고리 자동 선택 기능
- 일괄 발행으로 여러 글을 한 번에 처리

### 🛡️ 안정성 개선
- RecursionError 해결을 위한 .spec 파일 최적화
- 에러 처리 강화
- 로그 시스템 개선

### 자동 빌드 (권장)

```bash
# Windows에서
build.bat

# 또는 Python으로
python build_exe.py
```

### 수동 빌드

```bash
# 필요한 패키지 설치
pip install -r requirements.txt

# exe 파일 생성
pyinstaller --onefile --windowed --name=BlogGenerator blog_generator.py
```

## 알려드립니다
제가 실제 블로그 운영자가 아니다 보니 사용하시면서 불편하시거나 아쉬운 부분이 있을 수 있습니다. <br>
개선이 필요하다고 느끼신 점이 있다면 아래 메일로 피드백을 보내주시면 감사하겠습니다. <br>
📩 bhoon.dev@gmail.com <br>

다만, 보내주신 피드백 중 많은 분들이 공통적으로 필요로 할 만한 기능이라면 최대한 모두가 활용하실 수 있도록 기능을 추가하겠습니다. <br>
반대로, 특정 개인만을 위한 지나치게 개인화된 기능일 경우에는 모든 분들이 활용하기 어려워 반영이 어려울 수 있다는 점 양해 부탁드립니다. <br>
만약 맞춤형 기능을 꼭 원하신다면 별도로 문의해 주시면 협의 후 합리적인 비용으로 제작해 드릴 수도 있습니다. <br>

항상 소중한 의견 보내주셔서 감사합니다.